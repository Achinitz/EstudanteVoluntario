<div class="content">
  <div class="topo">
    <h1>Cadastrar Vaga</h1>
  </div>

  <ngb-alert #alert type="warning">
    Verifique os dados se estão corretos antes de finalizar o formulário abaixo!
  </ngb-alert>

  <section class="contentDetails">
    <div class="cadastro">
      <form [formGroup]="formCadastro">
        <label> <em>*</em><i> Campos de preenchimento obrigatório</i> </label>

        <div class="form-group">
          <label for="tituloVaga"> Titulo da Vaga <em>*</em> </label>
          <input type="text" class="form-control" id="tituloVaga" placeholder="Título da Vaga"
            formControlName="tituloVaga" />
          <small id="emailHelp" class="form-text text-danger ng-star-inserted" *ngIf="
              formCadastro.controls.tituloVaga.touched &&
              formCadastro.controls.tituloVaga.invalid
            " [@fadeInOut]>
            O campo Título é obrigatório!
          </small>
        </div>
        <div class="form-group">
          <label for="descricao"> Descrição <em>*</em> </label>
          <textarea class="form-control" id="descricao" rows="3" formControlName="descricao"
            placeholder="Descreva a vaga"></textarea>
          <small id="emailHelp" class="form-text text-danger ng-star-inserted" *ngIf="
              formCadastro.controls.descricao.touched &&
              formCadastro.controls.descricao.invalid
            " [@fadeInOut]>
            O campo Descrição é obrigatório!
          </small>
        </div>
        <div class="form-group">
          <label for="requisitos"> Requisitos <em>*</em> </label>
          <textarea class="form-control" id="requisitos" rows="3" formControlName="requisitos"
            placeholder="Descreva os requisitos"></textarea>
          <small id="emailHelp" class="form-text text-danger ng-star-inserted" *ngIf="
              formCadastro.controls.requisitos.touched &&
              formCadastro.controls.requisitos.invalid
            " [@fadeInOut]>
            O campo Requisitos é obrigatório!
          </small>
        </div>
        <div class="form-check">
          <input type="checkbox" class="form-check-input" id="possuiAuxilio" (change)="setAuxilio()"
            formControlName="possuiAuxilio" />
          <label class="form-check-label" for="possuiAuxilio">Possui auxílio?</label>
        </div>
        <div *ngIf="possuiAuxilio" class="form-group">
          <textarea class="form-control" id="descricaoAuxilio" formControlName="descricaoAuxilio"
            placeholder="Descreva o auxílio"></textarea>
        </div>
        <div class="row duplo">
          <div class="col">
            <label for="dataInicioTrabalho">
              Data de início da Atividade <em>*</em>
            </label>
            <!--Mínimo de 5 dias antes da data de hoje-->
            <input class="form-control" placeholder="yyyy-mm-dd" type="date" id="dataInicioTrabalho"
              formControlName="dataInicioTrabalho" min="{{dataMin | date: 'yyyy-MM-dd'}}" (change)="fimInscricao()" />
            <small id="emailHelp" class="form-text text-danger ng-star-inserted" *ngIf="
                formCadastro.controls.dataInicioTrabalho.touched &&
                formCadastro.controls.dataInicioTrabalho.invalid
              " [@fadeInOut]>
              O campo Data de início da Atividade é obrigatório!
            </small>
          </div>
          <div class="col">
            <label for="dataTerminoTrabalho">
              Data de encerramento da Atividade <em>*</em>
            </label>
            <input class="form-control" placeholder="yyyy-mm-dd" type="date" id="dataTerminoTrabalho"
              formControlName="dataTerminoTrabalho" />
            <small id="emailHelp" class="form-text text-danger ng-star-inserted" *ngIf="
                formCadastro.controls.dataTerminoTrabalho.touched &&
                formCadastro.controls.dataTerminoTrabalho.invalid
              " [@fadeInOut]>
              O campo Data de encerramento da Atividade é obrigatório!
            </small>
          </div>
        </div>

        <div class="row duplo">
          <div class="col">
            <label for="horarioInicio"> Horário de inicio <em>*</em> </label>
            <input class="form-control" type="time" id="horarioInicio" formControlName="horarioInicio" />
            <small id="emailHelp" class="form-text text-danger ng-star-inserted" *ngIf="
                formCadastro.controls.horarioInicio.touched &&
                formCadastro.controls.horarioInicio.invalid
              " [@fadeInOut]>
              O campo Horário de início é obrigatório!
            </small>
          </div>
          <div class="col">
            <label for="horarioEncerramento">
              Horário de encerramento <em>*</em>
            </label>
            <input class="form-control" type="time" id="horarioEncerramento" formControlName="horarioEncerramento" />
            <small id="emailHelp" class="form-text text-danger ng-star-inserted" *ngIf="
              formCadastro.controls.horarioEncerramento.touched &&
              formCadastro.controls.horarioEncerramento.invalid
            " [@fadeInOut]>
              O campo Horário de encerramento é obrigatório!
            </small>
          </div>
        </div>

        <div class="form-group">
          <label for="quantidadeVagas">Quantidade de vagas<em>*</em> </label>
          <input class="form-control" placeholder="Selecione a quantidade" type="number" id="quantidadeVagas"
            formControlName="quantidadeVagas" />
          <small id="emailHelp" class="form-text text-danger ng-star-inserted" *ngIf="
            formCadastro.controls.quantidadeVagas.touched &&
            formCadastro.controls.quantidadeVagas.invalid
          " [@fadeInOut]>
            O campo Quantidade de vagas é obrigatório!
          </small>
        </div>

        <div class="form-check">
          <input type="checkbox" class="form-check-input" id="utilizarEnderecoEntidade"
            formControlName="utilizarEnderecoEntidade" (change)="setEndereco()" />
          <label class="form-check-label" for="utilizarEnderecoEntidade">Desejo usar o endereço cadastrado da
            Entidade</label>
        </div>

        <div *ngIf="!utilizarEnderecoEntidade">
          <div class="form-group">
            <label for="cep">CEP <em>*</em> </label>
            <input type="text" (keyup)="validaCep()" class="form-control" id="cep" placeholder="XXXXX-XXX"
              formControlName="cep" mask="00000-000" />
            <label class="form-check-label" for="inlineFormCheck">
              <a class="link-cep" href="https://buscacepinter.correios.com.br/app/endereco/index.php" target="_blank">
                Encontre seu CEP
              </a>
            </label>
            <small id="emailHelp" class="form-text text-danger ng-star-inserted" *ngIf="
              formCadastro.controls.cep.touched && formCadastro.controls.cep.invalid
            " [@fadeInOut]>
              <br />
              O campo CEP é obrigatório!
            </small>
          </div>
          <div class="row duplo">
            <div class="col">
              <label for="estado">Estado/UF <em>*</em> </label>
              <ng-select [items]="estados" id="ngSelect" bindLabel="nome" bindValue="id" placeholder="Selecione"
                formControlName="estado" (ngModelChange)="onAddCidade()" (closeOnSelect)="(true)">
              </ng-select>
              <small id="emailHelp" class="form-text text-danger ng-star-inserted" *ngIf="" [@fadeInOut]>
                O campo Estado é obrigatório!
              </small>
            </div>
            <div class="col">
              <label for="exampleFormControlInput1">Cidade <em>*</em> </label>
              <ng-select [items]="cidades" id="ngSelect" bindLabel="nome" bindValue="id" placeholder="Selecione"
                formControlName="cidade" (ngModelChange)="onAddBairro()" (closeOnSelect)="(true)">
              </ng-select>
              <small id="emailHelp" class="form-text text-danger ng-star-inserted" *ngIf="" [@fadeInOut]>
                O campo Cidade é obrigatório!
              </small>
            </div>
          </div>

          <div class="form-group">
            <label for="logradouro">Logradouro <em>*</em> </label>
            <input type="text" class="form-control" id="logradouro" placeholder="Rua, Avenida, Travessa, etc."
              formControlName="logradouro" />
            <small id="emailHelp" class="form-text text-danger ng-star-inserted"
              *ngIf="formCadastro.controls.logradouro.touched  && formCadastro.controls.logradouro.invalid"
              [@fadeInOut]>
              O campo Logradouro é obrigatório!
            </small>
          </div>

          <div class="row duplo">
            <div class="col">
              <label for="exampleFormControlInput1">Número <em>*</em> </label>
              <input type="text" class="form-control" placeholder="Número" formControlName="numero" />
              <small id="emailHelp" class="form-text text-danger ng-star-inserted"
                *ngIf="formCadastro.controls.numero.touched && formCadastro.controls.numero.invalid" [@fadeInOut]>
                O campo Número é obrigatório!
              </small>
            </div>
            <div class="col">
              <label for="exampleFormControlInput1">Bairro <em>*</em> </label>
              <input type="text" class="form-control" placeholder="Bairro" formControlName="bairro" />
              <small id="emailHelp" class="form-text text-danger ng-star-inserted"
                *ngIf="formCadastro.controls.bairro.touched && formCadastro.controls.bairro.invalid" [@fadeInOut]>
                O campo Bairro é obrigatório!
              </small>
            </div>
          </div>
          <div class="form-group">
            <label for="complemento">Complemento</label>
            <input type="text" class="form-control" id="complemento" placeholder="Complemento ou Ponto de Referência."
              formControlName="complemento" />
          </div>
        </div>

        <div class="form-group">
          <label for="dataFinalizacaoVaga">Data de encerramento da inscrição <em>*</em> </label>
          <!--Máximo de 2 dias antes da data de início-->
          <input type="date" class="form-control" id="dataFinalizacaoVaga" placeholder="yyyy-mm-dd"
            formControlName="dataFinalizacaoVaga" max="{{dataMaxFimInscricao | date: 'yyyy-MM-dd'}}" />
          <small id="emailHelp" class="form-text text-danger ng-star-inserted" *ngIf="
              formCadastro.controls.dataFinalizacaoVaga.touched &&
              formCadastro.controls.dataFinalizacaoVaga.invalid
            " [@fadeInOut]>
            O campo Data de encerramento da inscrição é obrigatório!
          </small>
        </div>

        <div class="form-check">
          <input type="checkbox" class="form-check-input" id="termosCondicao" formControlName="termosCondicao"
            (change)="aceitarTermo()" />
          <label class="form-check-label" for="termosCondicao">Declaro que a vaga cadastrada está de acordo com os
            <a href="/">termos e condições</a> do site</label>
        </div>

        <ngb-alert #alert type="warning">
          ATENÇÃO: A vaga passará por avaliação antes de ser habilitada para
          publicação
        </ngb-alert>

        <div class="form-group buttonForm">
          <button type="submit" class="btn mb-2 btn-success">Cadastrar</button>
          <button type="reset" class="btn mb-2 btn-warning">Limpar</button>
        </div>
      </form>
    </div>
  </section>
</div>